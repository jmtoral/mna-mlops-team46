schema: '2.0'
stages:
  clean_data:
    cmd: python -m german_credit_ml.clean --config params.yaml
    deps:
    - path: data/raw/german_credit_modified.csv
      hash: md5
      md5: be16965e43fda504d3406a0e51559da6
      size: 96764
    - path: german_credit_ml/clean.py
      hash: md5
      md5: f53cbff91588c43ed72e82d7d07f27a9
      size: 6213
    params:
      params.yaml:
        data_load.processed: data/processed/german_credit_clean.csv
        data_load.raw: data/raw/german_credit_modified.csv
    outs:
    - path: data/processed/german_credit_clean.csv
      hash: md5
      md5: 8072a5cf26c1cbf09f217b5007ccae79
      size: 77492
  eda:
    cmd: python -m german_credit_ml.eda --input-data 
      data/processed/german_credit_clean.csv --output-dir reports/figures/eda
    deps:
    - path: data/processed/german_credit_clean.csv
      hash: md5
      md5: 8072a5cf26c1cbf09f217b5007ccae79
      size: 77492
    - path: german_credit_ml/eda.py
      hash: md5
      md5: a5b176793f5d4b94188ba2979e43e899
      size: 2768
    params:
      params.yaml:
        data_load.figures: reports/figures
        data_load.processed: data/processed/german_credit_clean.csv
    outs:
    - path: reports/figures/eda
      hash: md5
      md5: 6488b2285f5b36c0925a7c262d50df66.dir
      size: 402564
      nfiles: 5
  train:
    cmd: python src/modeling/train_xgb.py --input-data 
      data/german_credit_modified_cleaned.csv --model-output 
      models/xgboost_model.pkl --metrics-output reports/metrics.json 
      --plots-output reports/figures/training
    deps:
    - path: data/german_credit_modified_cleaned.csv
      hash: md5
      md5: e27fcaf22759653a95720b5d52512d18
      size: 47256
    - path: src/modeling/train_xgb.py
      hash: md5
      md5: 5f2d099f70ec601cada153c867466492
      size: 8029
    outs:
    - path: models/xgboost_model.pkl
      hash: md5
      md5: 2a23a1142fa99fb8b9f697d06f6b3548
      size: 281663
    - path: reports/figures/training/confusion_matrix.png
      hash: md5
      md5: 731a0c7aa3d27004e9566dea5e8d1f59
      size: 15813
    - path: reports/metrics.json
      hash: md5
      md5: f7bd2c8520d49fc08522baf2f06cb21e
      size: 223
