stages:
  clean_data:
    cmd: python -m german_credit_ml.clean --config params.yaml
    deps:
    - data/raw/german_credit_modified.csv
    - german_credit_ml/clean.py
    params:
    - data_load.processed
    - data_load.raw
    outs:
    - data/processed/german_credit_clean.csv
  eda:
    cmd: python -m german_credit_ml.eda --input-data 
      data/processed/german_credit_clean.csv --output-dir reports/figures/eda
    deps:
    - data/processed/german_credit_clean.csv
    - german_credit_ml/eda.py
    params:
    - data_load.figures
    - data_load.processed
    outs:
    - reports/figures/eda
  train:
<<<<<<< HEAD

    #OOP

    cmd: python -m scripts.train run --params_path params.yaml
    deps:
      - scripts/train.py
      - src/credit_risk
      - params.yaml
      - ${data.path}
    params:
      - data.test_size
      - data.random_state
      - model.type
      - model.class_weight
      - tuning.cv
      - tuning.param_grid.n_estimators
      - tuning.param_grid.max_depth
      - tuning.param_grid.min_samples_split
      - tuning.param_grid.min_samples_leaf
    outs:
      - models/xgboost_model.pkl
    plots:
      - reports/figures/training/confusion_matrix.png
    
    #cmd:  python src/modeling/train_xgb.py
    #  --input-data data/german_credit_modified_cleaned.csv
    #  --model-output models/xgboost_model.pkl
    #  --metrics-output reports/metrics.json            
    #  --plots-output reports/figures/training          
    #deps:
    # - src/modeling/train_xgb.py
    #  - data/german_credit_modified_cleaned.csv
    #    outs:
    #  - artifacts: {}  



    
    #cmd: python -m german_credit_ml.modeling.train --input-data 
    #  data/processed/german_credit_clean.csv --model-output 
    #  models/xgboost_model.pkl --metrics-output reports/metrics.json 
    #  --plots-output reports/figures/training
    #deps:
    #- data/processed/german_credit_clean.csv
    #- german_credit_ml/modeling/train.py
    #params:
    #- train
    #outs:
    #- models/xgboost_model.pkl
    #- reports/figures/training
    
    metrics:
    - reports/metrics.json:
        cache: false

=======
    cmd: python -m german_credit_ml.modeling.train --input-data 
      data/processed/german_credit_clean.csv --model-output 
      models/xgboost_model.pkl --metrics-output reports/metrics.json 
      --plots-output reports/figures/training
    deps:
    - data/processed/german_credit_clean.csv
    - german_credit_ml/modeling/train.py
    outs:
    - models/xgboost_model.pkl
    - reports/figures/training
    metrics:
    - reports/metrics.json:
        cache: false
    params:
    - train
>>>>>>> 40cba31092d0e9d18cd706221b6efdfafc8ad3a5
